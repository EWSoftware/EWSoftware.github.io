<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XCOPY/NuGet Build Server Deployment</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="deployment, xcopy" /><meta name="System.Keywords" content="deployment, build server" /><meta name="System.Keywords" content="deployment, NuGet" /><meta name="Microsoft.Help.Id" content="50ad2c8c-5004-4b4c-a77f-97b8c403c9f2" /><meta name="Description" content="For use in a build server environment, the Sandcastle Help File Builder and Tools support simple XCOPY deployment." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Sandcastle Help File Builder Documentation<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="bd1ddb51-1c4f-434f-bb1a-ce2135d3a909.htm" title="Sandcastle Help File Builder Documentation" tocid="roottoc">Sandcastle Help File Builder Documentation</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/b772e00e-1705-4062-adb6-774826ce6700.htm" title="Getting Started" tocid="b772e00e-1705-4062-adb6-774826ce6700">Getting Started</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="8c0c97d0-c968-4c15-9fe9-e8f3a443c50a.htm" title="Installation Instructions" tocid="8c0c97d0-c968-4c15-9fe9-e8f3a443c50a">Installation Instructions</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="8e3f8757-0ef3-4772-bb2f-5d7ae57e50da.htm" title="Sandcastle Help File Builder Overview" tocid="8e3f8757-0ef3-4772-bb2f-5d7ae57e50da">Sandcastle Help File Builder Overview</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="c47d9242-b3a8-4153-aa9e-ae8cb41cefe2.htm" title="Enabling and Using XML Comments" tocid="c47d9242-b3a8-4153-aa9e-ae8cb41cefe2">Enabling and Using XML Comments</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="d5dbf017-25f1-48cb-86db-90f76ee8f4d7.htm" title="Walkthrough: Creating Your First Project" tocid="d5dbf017-25f1-48cb-86db-90f76ee8f4d7">Walkthrough: Creating Your First Project</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="576b6a36-0808-4857-bec0-e6eeeae4e36b.htm" title="Relative and Absolute Paths" tocid="576b6a36-0808-4857-bec0-e6eeeae4e36b">Relative and Absolute Paths</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="96956ab6-fd5e-4bc7-a577-a18b0ff258ea.htm" title="The Log File" tocid="96956ab6-fd5e-4bc7-a577-a18b0ff258ea">The Log File</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="2152ed96-bf69-4b9b-b1a7-4fffc71b3095.htm" title="User Preferences" tocid="2152ed96-bf69-4b9b-b1a7-4fffc71b3095">User Preferences</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="a24489fb-45d6-46f4-9eaa-9a9c4e0919b2.htm" title="Special Folder Locations" tocid="a24489fb-45d6-46f4-9eaa-9a9c4e0919b2">Special Folder Locations</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="50ad2c8c-5004-4b4c-a77f-97b8c403c9f2.htm" title="XCOPY/NuGet Build Server Deployment" tocid="50ad2c8c-5004-4b4c-a77f-97b8c403c9f2">XCOPY/NuGet Build Server Deployment</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="8ffc0d37-0215-4609-b6f8-dba53a6c5063.htm" title="Building Projects Outside the GUI" tocid="8ffc0d37-0215-4609-b6f8-dba53a6c5063">Building Projects Outside the GUI</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="ec822059-b179-4add-984d-485580050ffb.htm" title="Generating Documentation with Team Build" tocid="ec822059-b179-4add-984d-485580050ffb">Generating Documentation with Team Build</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="76eb8f39-b225-4881-afa2-13cb7829b944.htm" title="Using Dynamic Properties" tocid="76eb8f39-b225-4881-afa2-13cb7829b944">Using Dynamic Properties</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img alt="Sandcastle Help File Builder" width="70" height="68" src="../icons/Sandcastle.jpg" /></td><td class="titleColumn"><h1>XCOPY/NuGet Build Server Deployment</h1></td></tr></table><span class="introStyle"></span> <div class="introduction"><p>For use in a build server environment, the Sandcastle Help File Builder and Tools support simple
XCOPY deployment.  As long as the <span class="code">SHFBROOT</span> system environment variable
points to the location of the help file builder assemblies, it will be able to find everything it needs at build
time.  In such situations, custom build components, plug-ins, syntax generators, and presentation styles may also
be copied to the help file builder folder or a sub-folder beneath it.</p><p>A NuGet Package is also available (<strong>EWSoftware.SHFB</strong>) that allows you to
deploy the Sandcastle Help File Builder tools inside of a project to build help files without installing the
tools manually and without defining the <span class="code">SHFBROOT</span> environment variable.
Certain limitation apply in this case and are detailed in the package's Read Me file which is displayed when the
package is installed.</p></div><div id="ID1RBSection" class="collapsibleSection"><p>When searching for custom components, the following search order is used:</p><ul><li><p>If a <span class="code">ComponentPath</span> project property value is set, the folder it refers
to is searched first and then the actual project folder is searched.  If the property contains no value, the
actual project folder is searched first.</p></li><li><p>Next, the common application data folders noted in the
<a href="a24489fb-45d6-46f4-9eaa-9a9c4e0919b2.htm">Special Folder Locations</a> topic are searched.</p></li><li><p>Finally, the help file builder installation folder (<span class="code">SHFBROOT</span>)
is searched.</p></li></ul><p>If any duplicate components are encountered, the first one loaded based on the above search order
will be used.</p><p>It is possible to build a project without defining the <span class="code">SHFBROOT</span>
environment variable such as when using the NuGet package.  To do this, a conditional <span class="code">SHFBROOT</span>
property must be added to each help file builder project as a child of the main <span class="code">PropertyGroup</span>
element.  An example is shown below (lines wrapped for display purposes):</p><div class="codeSnippetContainer"><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACABAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACABAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACABAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PropertyGroup</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-comment">&lt;!-- NOTE: Update the version number in the path (YYYY.M.D.R) to match the package version --&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">SHFBROOT</span> <span class="highlight-xml-attribute-name">Condition</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">" '$(SHFBROOT)' == '' "</span><span class="highlight-xml-bracket">&gt;</span>$(MSBuildThisFileDirectory)..\packages\
EWSoftware.SHFB.YYYY.M.D.R\Tools\<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">SHFBROOT</span><span class="highlight-xml-bracket">&gt;</span>

  ... other SHFB project properties ...

<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PropertyGroup</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACABAAA");</script><p>By making it conditional, you can work with the project on your local machine with the available
tools where the environment variable is defined but still allow it to be built on a server using the XCOPY/NuGet
deployment.</p><div class="alert"><table><tr><th><img src="../icons/AlertCaution.png" alt="Important note" /> Important</th></tr><tr><td><p>The Help 1 file format is unsupported in the XCOPY/NuGet deployment scenario as it requires
additional tools and components to be installed.  If these tools and components are missing on the build server,
the help file build will fail.  Only the MS Help Viewer, Open XML, website, and markdown help file formats are
guaranteed to work as they have no external tool dependencies.</p><p>For NuGet installations, you must also install one or more of the Reflection Data Set packages
based on which platform types you need: .NETCore, .NETFramework, .NETMicroFramework, .NETPortable, Silverlight,
WindowsPhone, and/or WindowsPhoneApp.  If multiple versions are available for any given reflection data set
package, download the latest version as it will cover all prior versions as well.  For example, the
.NETFramework 4.6 package covers all .NET Framework versions from 1.0 to 4.6.</p></td></tr></table></div></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID2RBSection" class="collapsibleSection"><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="b772e00e-1705-4062-adb6-774826ce6700.htm">Getting Started</a></div><div class="seeAlsoStyle"><a href="a24489fb-45d6-46f4-9eaa-9a9c4e0919b2.htm">Special Folder Locations</a></div></div></div></div><div id="pageFooter" class="pageFooter"><p><a href="https://GitHub.com/EWSoftware/SHFB" target="_blank">[v2017.5.15.0] Copyright © 2006-2017, Eric Woodruff, All rights reserved</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:Eric%40EWoodruff.us?Subject=Sandcastle Help File Builder Documentation">Eric Woodruff</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div><script type="text/javascript">
    function _dmBootstrap(file) {
        var _dma = document.createElement('script');
        _dma.type = 'text/javascript';
        _dma.async = true;
        _dma.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + file;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(_dma);
    }
    function _dmFollowup(file) { if (typeof DMAds === 'undefined') _dmBootstrap('cdn2.DeveloperMedia.com/a.min.js'); }
    (function () { _dmBootstrap('cdn1.DeveloperMedia.com/a.min.js'); setTimeout(_dmFollowup, 2000); })();
</script>
<div data-type="ad" data-publisher="ewsoftware.github.io" data-format="728x90" data-zone="SHFB"></div>
</body></html>